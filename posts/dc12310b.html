<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="Hexo Theme Keep"><meta name="description" content="Hexo Theme Keep"><meta name="author" content="CouriourC"><title>os-process-dead-lock | CouriourC Blog</title><link rel="stylesheet" href="/css/style.css"><link rel="shortcut icon" href="/images/avatar.jpg"><script id="hexo-configurations">let KEEP=window.KEEP||{};KEEP.hexo_config={hostname:"example.com",root:"/",language:"zh-CN",path:"search.xml"},KEEP.theme_config={toc:{enable:!0,number:!0,expand_all:!0,init_open:!1},style:{primary_color:"#0066CC",avatar:"/images/avatar.jpg",favicon:"/images/avatar.jpg",article_img_align:"left",left_side_width:"260px",content_max_width:"920px",hover:{shadow:!0,scale:!0},first_screen:{enable:!0,background_img:"/images/bg.svg",description:"在天冷的时候总会穿上秋裤"},scroll:{progress_bar:{enable:!0},percent:{enable:!0}}},local_search:{enable:!0,preload:!1},code_copy:{enable:!0,style:"default"},pjax:{enable:!0},lazyload:{enable:!0},version:"3.4.5"},KEEP.language_ago={second:"%s 秒前",minute:"%s 分钟前",hour:"%s 小时前",day:"%s 天前",week:"%s 周前",month:"%s 个月前",year:"%s 年前"}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"><style type="text/css">.spoiler{display:inline-flex}p.spoiler{display:flex}.spoiler a{pointer-events:none}.spoiler-blur,.spoiler-blur>*{transition:text-shadow .5s ease}.spoiler .spoiler-blur,.spoiler .spoiler-blur>*{color:transparent;background-color:rgba(0,0,0,0);text-shadow:0 0 10px grey;cursor:pointer}.spoiler .spoiler-blur:hover,.spoiler .spoiler-blur:hover>*{text-shadow:0 0 5px grey}.spoiler-box,.spoiler-box>*{transition:color .5s ease,background-color .5s ease}.spoiler .spoiler-box,.spoiler .spoiler-box>*{color:#000;background-color:#000;text-shadow:none}</style><meta name="generator" content="Hexo 5.4.2"><style>mjx-container[jax=SVG]{direction:ltr}mjx-container[jax=SVG]>svg{overflow:visible}mjx-container[jax=SVG][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=SVG][justify=left]{text-align:left}mjx-container[jax=SVG][justify=right]{text-align:right}g[data-mml-node=merror]>g{fill:red;stroke:red}g[data-mml-node=merror]>rect[data-background]{fill:#ff0;stroke:none}g[data-mml-node=mtable]>line[data-line]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>rect[data-frame]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>.mjx-dashed{stroke-dasharray:140}g[data-mml-node=mtable]>.mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}g[data-mml-node=mtable]>svg{overflow:visible}[jax=SVG] mjx-tool{display:inline-block;position:relative;width:0;height:0}[jax=SVG] mjx-tool>mjx-tip{position:absolute;top:0;left:0}mjx-tool>mjx-tip{display:inline-block;padding:.2em;border:1px solid #888;font-size:70%;background-color:#f8f8f8;color:#000;box-shadow:2px 2px 5px #aaa}g[data-mml-node=maction][data-toggle]{cursor:pointer}mjx-status{display:block;position:fixed;left:1em;bottom:1em;min-width:25%;padding:.2em .4em;border:1px solid #888;font-size:90%;background-color:#f8f8f8;color:#000}foreignObject[data-mjx-xml]{font-family:initial;line-height:normal;overflow:visible}.MathJax path{stroke-width:3}mjx-container[display=true]{overflow:auto hidden}mjx-container[display=true]+br{display:none}</style><link rel="alternate" href="/atom.xml" title="小客栈" type="application/atom+xml"></head><body><div class="progress-bar-container"><span class="scroll-progress-bar"></span> <span class="pjax-progress-bar"></span> <span class="pjax-progress-icon"><i class="fas fa-circle-notch fa-spin"></i></span></div><main class="page-container"><div class="page-main-content"><div class="page-main-content-top"><header class="header-wrapper"><div class="header-content"><div class="left"><a class="logo-image" href="/"><img src="/images/avatar.jpg"> </a><a class="logo-title" href="/">CouriourC Blog</a></div><div class="right"><div class="pc"><ul class="menu-list"><li class="menu-item"><a href="/">首页</a></li><li class="menu-item"><a href="/archives">归档</a></li><li class="menu-item search search-popup-trigger"><i class="gg-search"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="gg-search"></i></div><div class="icon-item menu-bar"><div class="menu-bar-middle"></div></div></div></div></div><div class="header-drawer"><ul class="drawer-menu-list"><li class="drawer-menu-item flex-center"><a href="/">首页</a></li><li class="drawer-menu-item flex-center"><a href="/archives">归档</a></li></ul></div><div class="window-mask"></div></header></div><div class="page-main-content-middle"><div class="main-content"><div class="fade-in-down-animation"><div class="article-content-container"><div class="article-title"><span class="title-hover-animation">os-process-dead-lock</span></div><div class="article-header"><div class="avatar"><img src="/images/avatar.jpg"></div><div class="info"><div class="author"><span class="name">CouriourC</span> <span class="author-label">Lv5</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fas fa-edit"></i>&nbsp; <span class="pc">2022-09-14 13:50:03</span> <span class="mobile">2022-09-14 13:50</span> </span><span class="article-categories article-meta-item"><i class="fas fa-folder"></i>&nbsp;<ul><li><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">计算机基础知识</a>&nbsp;</li><li>&gt; <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fas fa-tags"></i>&nbsp;<ul><li><a href="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">基础知识 </a>&nbsp;</li><li>| <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统 </a>&nbsp;</li><li>| <a href="/tags/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/">进程管理 </a>&nbsp;</li><li>| <a href="/tags/%E6%AD%BB%E9%94%81/">死锁 </a>&nbsp;</li></ul></span><span class="article-pv article-meta-item"><i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content markdown-body"><link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><h2 id="概念"><a class="markdownIt-Anchor" href="#概念"></a> 概念</h2><h3 id="死锁的定义"><a class="markdownIt-Anchor" href="#死锁的定义"></a> 死锁的定义</h3><p>在开发环境下，各进程因竞争资源而造成的一种相互等待对方手里的资源，导致这些进程均阻塞，若没有外力干涉，这些进程都无法继续前进。</p><blockquote><p>🚨死锁：互相等待对方手里的资源，导致各进程都堵塞，无法继续前进的现象。</p><p>🍱饥饿由于长期得不到资源，某进程一直得不到处理机的现象。</p><p>💩死（屎）循环：某一进程执行过程中一直跳不出某个循环的现象。</p></blockquote><h3 id="死锁产生的充分条件"><a class="markdownIt-Anchor" href="#死锁产生的充分条件"></a> 死锁产生的充分条件</h3><ol><li><p><strong>互斥条件</strong>：只有互斥资源的争论才可能导致死锁。</p></li><li><p><strong>不剥夺条件</strong>：进程中获得资源在未使用完之前，不能由其他进程强行夺走，<strong>只能主动释放</strong>。</p></li><li><p><strong>请求和保持条件</strong>：进程已经占用了<strong>至少一个资源</strong>，同时又提出了新的资源请求，而所<strong>请求的资源被其他进程所占有</strong>，此时请求被<strong>阻塞</strong>，但是该进程仍然保持已有的资源不放。</p></li><li><p><strong>循环等待条件</strong>：存在一种进程循环等待资源的现象</p></li></ol><blockquote><p>🐰发生死锁时一定有循环等待，但发生循环等待未必会死锁🔒。</p><p>如果系统中还有其他同类型资源，则不会发生死锁；</p><p>如果系统中每种资源只有一个，则将会发生死锁。</p></blockquote><h2 id="死锁的预防"><a class="markdownIt-Anchor" href="#死锁的预防"></a> 死锁的预防</h2><p>预防死锁的发生只需要破坏<strong>四个必要条件</strong>之一即可。</p><h3 id="破坏互斥条件"><a class="markdownIt-Anchor" href="#破坏互斥条件"></a> 破坏互斥条件</h3><p>把临界区资源变成共享资源，例如使用 <strong>SPOOLing</strong> 技术使得设备可以逻辑上共享，但是一般不常用。</p><blockquote><p><strong>SPOOLING</strong> （即<a class="link" target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%A4%96%E9%83%A8%E8%AE%BE%E5%A4%87">外部设备<i class="fas fa-external-link-alt"></i></a>联机并行操作），即Simultaneous Peripheral Operations On-Line的缩写，它是关于慢速<a class="link" target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%AD%97%E7%AC%A6%E8%AE%BE%E5%A4%87/6637035">字符设备<i class="fas fa-external-link-alt"></i></a>如何与计算机主机交换信息一种技术，通常称为"<a class="link" target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%81%87%E8%84%B1%E6%9C%BA">假脱机<i class="fas fa-external-link-alt"></i></a>技术"。</p></blockquote><h3 id="破坏剥夺条件"><a class="markdownIt-Anchor" href="#破坏剥夺条件"></a> 破坏剥夺条件</h3><ul><li>当某个进程请求新的资源得不到时，立刻释放其已有资源，以待后面再次申请。</li><li>为进程设置不同的优先级，当某个进程需要的资源被其他进程占有时，可以用操作系统写作将想要的资源强行剥夺。</li></ul><h4 id="缺点"><a class="markdownIt-Anchor" href="#缺点"></a> 缺点</h4><ul><li>实现起来比较复杂；</li><li>这种方式会造成前一阶段工作的失效，因此仅适用于不易保存和恢复的资源，例如 <strong>CPU</strong>;</li><li>反复申请和释放资源会造成较大的系统消耗。</li><li>若采用方案以，可能导致饥饿（某个进程一直被迫放弃已有的资源）</li></ul><h3 id="破坏请求和保持条件"><a class="markdownIt-Anchor" href="#破坏请求和保持条件"></a> 破坏请求和保持条件</h3><p>采用<strong>静态分配方法</strong>。在运行前一次性申请所需要的全部资源，在未获得全部资源前进程不投入运行，一道投入运行，这些资源一直归此进程所有。</p><h4 id="缺点-2"><a class="markdownIt-Anchor" href="#缺点-2"></a> 缺点</h4><ul><li>对于使用时间很短的资源会造成资源浪费，资源利用率低</li><li>有可能导致某些进程饥饿。</li></ul><h3 id="破坏循环等待条件"><a class="markdownIt-Anchor" href="#破坏循环等待条件"></a> 破坏循环等待条件</h3><p>采用顺序资源分配法，首先给系统中的资源编号。规定每个进程必须按编号递增的顺序请求资源，同类资源（即编号相同的资源）一次申请完成。</p><h4 id="缺点-3"><a class="markdownIt-Anchor" href="#缺点-3"></a> 缺点</h4><ul><li>不方便增加新的系统资源，有可能需要全部重新分配序号。</li><li>进程实际使用资源的顺序可能序号不一致，会造成资源的浪费。</li><li>必须依次申请资源，编程麻烦。</li></ul><h2 id="死锁避免"><a class="markdownIt-Anchor" href="#死锁避免"></a> 死锁避免</h2><h3 id="安全序列-不安全状态-死锁的联系"><a class="markdownIt-Anchor" href="#安全序列-不安全状态-死锁的联系"></a> 安全序列、不安全状态、死锁的联系</h3><h4 id="安全序列"><a class="markdownIt-Anchor" href="#安全序列"></a> 安全序列</h4><p>如果系统按照这种序列分配资源，则每个进程都能顺利完成。</p><h4 id="安全状态"><a class="markdownIt-Anchor" href="#安全状态"></a> 安全状态</h4><p>只要能找出一个安全序列，系统就是安全状态，安全序列可能有多个。</p><h4 id="不安全状态"><a class="markdownIt-Anchor" href="#不安全状态"></a> 不安全状态</h4><p>如果分配了资源之后，系统中找不出任何一个安全序列，系统就进入了不<strong>不安全状态</strong>，这就意味者之后可能所以有进程都无法顺利的执行下去。如果有进程提前归还了资源，系统也有可能重新回到安全状态。</p><h4 id="安全状态与死锁的关系"><a class="markdownIt-Anchor" href="#安全状态与死锁的关系"></a> 安全状态与死锁的关系</h4><ul><li>系统如果处于<strong>安全状态</strong>，则<strong>一定</strong>不会发生死锁。</li><li>系统如果处于<strong>不安全状态</strong>，则<strong>可能</strong>会发生死锁。</li><li>因此，可以通过<strong>提前判断</strong>是否会进入<strong>不安全状态</strong>，来决定是否答应分配请求</li></ul><h2 id="银行家算法"><a class="markdownIt-Anchor" href="#银行家算法"></a> 银行家算法</h2><p>假设系统中有 n 个进程，m 种资源。</p><p>每个进程在运行前事先声明各个资源的最大需求数，则可用一个 n*m 的矩阵表示所有进程对各种资源的重大需求数，称之为最大需求矩阵 <strong>Max</strong>,<mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align:-.462ex" xmlns="http://www.w3.org/2000/svg" width="12.616ex" height="2.007ex" role="img" focusable="false" viewBox="0 -683 5576.2 887"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D440" d="M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z"></path></g><g data-mml-node="mi" transform="translate(1051,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mi" transform="translate(1580,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2152,0)"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(345,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(789.7,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z"></path></g></g><g data-mml-node="mo" transform="translate(3631.4,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(4687.2,0)"><path data-c="1D43E" d="M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z"></path></g></g></g></svg></mjx-container>,表示进程 P<sub>i</sub>,最多需要 K 个资源 R<sub>j</sub>。</p><p>同理，系统可以用一个 <strong>n*m</strong> 的分配矩阵 <strong>Allocation</strong> 表示对所有进程的资源分配情况。<strong>Max-Allocation = Need</strong> 举证，表示各进程还需要多少资源。</p><p>另外，用一个长度为 <strong>m</strong> 的<strong>一维数组Available</strong> 表示当前系统中还有多少可用资源。</p><p>用一个长度为 <strong>m</strong> 的 <strong>一维数组 Request<sub>i</sub></strong> ，表示本次某进程 P<sub>i</sub> 本次申请的各种资源。</p><h3 id="算法步骤"><a class="markdownIt-Anchor" href="#算法步骤"></a> 算法步骤</h3><ol><li><p>若 <strong>Request<sub>i</sub>[j] &lt; Need[i,j]</strong>，继续下一步，否则出错。(请求资源超出了最大需求)；</p></li><li><p>若 <strong>Request<sub>i</sub>[j] &lt; Available[i,j]</strong>，继续下一步，否则表示尚无可用资源，P<sub>i</sub> 等待；</p></li><li><p>系统尝试将资源分配给 P<sub>i</sub>，并修改相应数据:</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mi>v</mi><mi>a</mi><mi>i</mi><mi>l</mi><mi>a</mi><mi>b</mi><mi>l</mi><mi>e</mi><mo>=</mo><mi>A</mi><mi>v</mi><mi>a</mi><mi>i</mi><mi>l</mi><mi>a</mi><mi>b</mi><mi>l</mi><mi>e</mi><mo>−</mo><mi>R</mi><mi>e</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>s</mi><mi>t</mi><mo separator="true">;</mo><mspace linebreak="newline"></mspace><mi>A</mi><mi>l</mi><mi>l</mi><mi>o</mi><mi>c</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo stretchy="false">[</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">]</mo><mo>=</mo><mi>A</mi><mi>l</mi><mi>l</mi><mi>o</mi><mi>c</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo stretchy="false">[</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">]</mo><mo>+</mo><mi>R</mi><mi>e</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mspace linebreak="newline"></mspace><mi>N</mi><mi>e</mi><mi>e</mi><mi>d</mi><mo stretchy="false">[</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">]</mo><mo>=</mo><mi>N</mi><mi>e</mi><mi>e</mi><mi>d</mi><mo stretchy="false">[</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">]</mo><mo>−</mo><mi>R</mi><mi>e</mi><mi>q</mi><mi>u</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mspace linebreak="newline"></mspace></mrow><annotation encoding="application/x-tex">Available = Available - Request; \\ Allocation[i,j] = Allocation[i,j] + Request_i[j] \\ Need[i,j] = Need[i,j] - Request_i[j] \\</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:.03588em">v</span><span class="mord mathnormal">a</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.77777em;vertical-align:-.08333em"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:.03588em">v</span><span class="mord mathnormal">a</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:.03588em">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mpunct">;</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal" style="margin-right:.05724em">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal" style="margin-right:.05724em">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:.03588em">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">s</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:.05724em">j</span><span class="mclose">]</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="mord mathnormal">e</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal" style="margin-right:.05724em">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="mord mathnormal">e</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal" style="margin-right:.05724em">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:.03588em">q</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord mathnormal">s</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:.05724em">j</span><span class="mclose">]</span></span><span class="mspace newline"></span></span></span></span></p></li><li><p>系统执行安全算法，判断此次分配后系统是否处于安全状态，若是，则正式分配资源给 P<sub>i</sub>，否则此次分配作废，让 P<sub>i</sub> 等待；</p><p><img lazyload="" src="/images/loading.svg" data-src="2020111521534961.png" alt="2020111521534961"></p></li></ol><h3 id="例题"><a class="markdownIt-Anchor" href="#例题"></a> 例题</h3><table><thead><tr><th>进程</th><th>最大需求</th><th>已分配</th><th>可用</th></tr></thead><tbody><tr><td>P<sub>0</sub></td><td>10</td><td>5</td><td>3</td></tr><tr><td>P<sub>1</sub></td><td>4</td><td>2</td><td></td></tr><tr><td>P<sub>2</sub></td><td>9</td><td>2</td><td></td></tr></tbody></table><p class="katex-block katex-error" title="ParseError: KaTeX parse error: Undefined control sequence: \matrix at position 14: Max = \left[
\̲m̲a̲t̲r̲i̲x̲{
 10 \\
 4 \\
…">Max = \left[ \matrix{ 10 <span>\</span> 4 <span>\</span> 5 <span>\</span> } \right], Allocation = \left[ \matrix{ 5 <span>\</span> 2 <span>\</span> 2 <span>\</span> } \right], Available = \left[ \matrix{ 3 } \right], <span>\</span> Need = Max - Allocation = \left[ \matrix{ 5 <span>\</span> 2 <span>\</span> 7 <span>\</span> } \right]</p><p>接下来，将 <strong>Available</strong> 与 <strong>Need</strong> 各行进行比较，找到 <strong>Need</strong> 中比 <strong>Available</strong> 小的一行，将该进程加入安全序列，释放该进程的资源，得到新的矩阵 <strong>Available</strong> 。</p><p>对比之后得到第二行（记作 <strong>P<sub>1</sub></strong>）,释放 <strong>P<sub>1</sub></strong>，更新可用资源 <code>Available = [5]</code>，因为之前分配了 2 个资源（<code>Allocation</code>），然后继续比较，找到 P<sub>0</sub>，继续更新 <code>Available = [10]</code>，继续对比，释放掉 P<sub>3</sub>，从而得到安全序列： P<sub>1</sub> P<sub>0</sub> P<sub>2</sub>。</p><h2 id="死锁的检测和解除"><a class="markdownIt-Anchor" href="#死锁的检测和解除"></a> 死锁的检测和解除</h2><p>为了能对系统是否发生了死锁进行检测，必须：</p><ol><li>用某种数据结构来保存资源的请求和分配信息；</li><li>提供一种算法，利用上述信息来检测系统是否已进入死锁状态；</li></ol><h3 id="资源分配图"><a class="markdownIt-Anchor" href="#资源分配图"></a> 资源分配图</h3><h4 id="结构"><a class="markdownIt-Anchor" href="#结构"></a> 结构</h4><h5 id="两种结点"><a class="markdownIt-Anchor" href="#两种结点"></a> 两种结点</h5><ul><li>进程结点：对应<strong>一个</strong>进程</li><li>资源结点：对应<strong>一类</strong>资源</li></ul><h4 id="两种边"><a class="markdownIt-Anchor" href="#两种边"></a> 两种边</h4><ul><li><p><strong>进程结点-&gt;资源结点</strong>：进程对资源的申请（每条代表一个）</p></li><li><p><strong>资源节点-&gt;进程结点</strong>：已经为进程分配了资源（每条代表一个）</p></li></ul><h4 id="环路"><a class="markdownIt-Anchor" href="#环路"></a> 环路</h4><ul><li>若出现环路，意味着满足了循环等待条件，可能存在死锁。</li><li>若不存在环路，破坏了循环等待条件，必定不存在死锁。</li></ul><h3 id="死锁定理"><a class="markdownIt-Anchor" href="#死锁定理"></a> 死锁定理</h3><p>在资源分配图中，找到既不阻塞也不是孤点的进程 P<sub>i</sub>，消去他所有的请求边和分配边；</p><p>再找到下一个可以小区所有请求和分配的进程。</p><p>若能消去途中所有边，则称该图是<strong>可完全简化</strong>的。</p><h4 id="随便扒拉的一道题来分析一下"><a class="markdownIt-Anchor" href="#随便扒拉的一道题来分析一下"></a> 随便扒拉的一道题来分析一下</h4><p><img lazyload="" src="/images/loading.svg" data-src="image-20220915104057580.png" alt="image-20220915104057580"></p><p>对于 <strong>R1</strong>: 资源已经被使用了一个，那么再来请求的 P1 就自然被挂起，我们给它先拉黑（阻塞）</p><p><img lazyload="" src="/images/loading.svg" data-src="image-20220915104212350.png" alt="image-20220915104212350"></p><p>对于 <strong>R2</strong>: 已经有两个资源被分配出去，那么 P3 对于 P2 的请求就开摆，也挂起，阻塞。</p><p><img lazyload="" src="/images/loading.svg" data-src="image-20220915104320212.png" alt="image-20220915104320212"></p><p>对于 <strong>R3</strong>：分配了一个出去给 P2，P3 请求，不过已经在 R2 挂起了.</p><p>对于 <strong>R4</strong>：分配了一个给 P3,面对 P2 的请求，P2 只能挂起等待。</p><p>结点全挂起，漂亮的死锁🔒！艹，再换一个例子</p><p>一样的分析方法，就不赘述了：</p><p><img lazyload="" src="/images/loading.svg" data-src="image-20220915104700583.png" alt="image-20220915104700583"></p><blockquote><p><strong>死锁定理：<strong>系统会发生死锁的条件是</strong>当且仅当系统状态的资源分配图是不可完全简化的</strong>。</p></blockquote><h2 id="死锁的解除"><a class="markdownIt-Anchor" href="#死锁的解除"></a> 死锁的解除</h2><p>在化简资源分配图后，还有边连接的进程就是死锁进程 ，对于死锁的进程，需要解除死锁：</p><ul><li><strong>资源剥夺法</strong>：挂起某些死锁进程（暂存到外存上），抢占其资源并分配给其他死锁进程。需要注意防止被挂起进程产生饥饿；</li><li><strong>撤销进程法（终止进程法）</strong>：强制撤销部分甚至全部死锁进程并释放其资源。优点是实现简单，缺点是导致进程之前的努力全部莫得了（没有了）。</li><li>**进程回退法：**让一个或多个进程回退到可以避免死锁的地步，需要系统记录进程的历史信息并设置还原点。</li></ul></div><ul class="post-tags-box"><li class="tag-item"><a href="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">#基础知识</a>&nbsp;</li><li class="tag-item"><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">#操作系统</a>&nbsp;</li><li class="tag-item"><a href="/tags/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/">#进程管理</a>&nbsp;</li><li class="tag-item"><a href="/tags/%E6%AD%BB%E9%94%81/">#死锁</a>&nbsp;</li></ul><div class="article-nav"><div class="article-prev"><a class="prev" rel="prev" href="/posts/f55d24d5.html"><span class="left arrow-icon flex-center"><i class="fas fa-chevron-left"></i> </span><span class="title flex-center"><span class="post-nav-title-item">操作系统知识点总结-内存管理</span> <span class="post-nav-item">上一篇</span></span></a></div><div class="article-next"><a class="next" rel="next" href="/posts/e5d70896.html"><span class="title flex-center"><span class="post-nav-title-item">操作系统知识点总结-进程同步问题</span> <span class="post-nav-item">下一篇</span> </span><span class="right arrow-icon flex-center"><i class="fas fa-chevron-right"></i></span></a></div></div><div class="comment-container"><div class="comments-container"><div id="comment-anchor"></div><div class="comment-area-title"><i class="fas fa-comments">&nbsp;评论</i></div><div id="gitalk-container"></div><script data-pjax src="//cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js"></script><script data-pjax>function loadGitalk(){let e=decodeURI(location.pathname);50<e.length&&(e=e.substring(0,47)+"...");try{Gitalk&&new Gitalk({clientID:"89b09c1ace1068a64740",clientSecret:"a790fd5655b56ce21a8462dc286b9e913592d742",repo:"couriourc.blog_talk",owner:"couriourc",admin:["couriourc"],id:e,language:"zh-CN"}).render("gitalk-container")}catch(e){window.Gitalk=null}}{const e=setTimeout(()=>{loadGitalk(),clearTimeout(e)},1e3)}</script></div></div></div></div><div class="social-share w-full flex-center" data-sites="weibo, qq, qzone,wechat"></div><script>let mermaidLoad=document.createElement("script");function init(){document.head.append(mermaidLoad),setTimeout(()=>{mermaid?.initialize({})})}mermaidLoad.src="https://unpkg.com/mermaid@9.1.2/dist/mermaid.min.js",mermaidLoad.addEventListener("load",init),document.addEventListener("pjax:complete",init)</script><link rel="stylesheet" href="/css/libs/share.min.css"><script src="/js/libs/share.min.js"></script></div></div><div class="page-main-content-bottom"><footer class="footer"><div class="info-container"><div class="copyright-info info-item">&copy; <span>2022</span> - 2025&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">CouriourC</a></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="website-count info-item"><span id="busuanzi_container_site_uv">访问人数&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp; </span><span id="busuanzi_container_site_pv">总访问量&nbsp;<span id="busuanzi_value_site_pv"></span></span></div><div class="theme-info info-item">由 <a target="_blank" href="https://hexo.io">Hexo</a> 驱动&nbsp;|&nbsp;主题 &nbsp; <a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep 3.4.5</a></div></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="tools-list"><li class="tools-item page-aside-toggle"><i class="gg-menu"></i></li><li class="go-comment"><i class="fas fa-comment"></i></li></ul></div></div><div class="right-bottom-side-tools"><div class="side-tools-container"><ul class="side-tools-list"><li class="tools-item flex-center tool-font-adjust-plus" title=" 放大 " params=""><i class="fas fa-search-plus"></i></li><li class="tools-item flex-center tool-font-adjust-minus" title=" 缩小 " params=""><i class="fas fa-search-minus"></i></li><li class="tools-item flex-center tool-expand-width" title=" 缩小 " params=""><i class="fas fa-arrows-alt-h"></i></li><li class="tools-item flex-center tool-dark-light-toggle" title=" 切换灯光 " params=""><i class="fas fa-moon"></i></li><li class="tools-item flex-center tool-github-contact-me" title=" 找到我 " params="https://github.com/couriourc/"><i class="fas fa-gg-bot gg-bot"></i></li><li class="tools-item flex-center tool-scroll-to-top" title=" 回到最上 " params=""><i class="fas fa-arrow-up"></i></li><li class="tools-item flex-center tool-scroll-to-bottom" title=" 滚动至最底 " params=""><i class="fas fa-arrow-down"></i></li></ul><ul class="exposed-tools-list"><li class="tools-item tool-toggle-show flex-center"><i class="fas fa-cog fa-spin"></i></li><li class="tools-item tool-scroll-to-top flex-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><aside class="page-aside"><div class="post-toc-wrap"><div class="post-toc"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5"><span class="nav-number">1.</span> <span class="nav-text">概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="nav-number">1.1.</span> <span class="nav-text">死锁的定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%BB%E9%94%81%E4%BA%A7%E7%94%9F%E7%9A%84%E5%85%85%E5%88%86%E6%9D%A1%E4%BB%B6"><span class="nav-number">1.2.</span> <span class="nav-text">死锁产生的充分条件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E9%A2%84%E9%98%B2"><span class="nav-number">2.</span> <span class="nav-text">死锁的预防</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A0%B4%E5%9D%8F%E4%BA%92%E6%96%A5%E6%9D%A1%E4%BB%B6"><span class="nav-number">2.1.</span> <span class="nav-text">破坏互斥条件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A0%B4%E5%9D%8F%E5%89%A5%E5%A4%BA%E6%9D%A1%E4%BB%B6"><span class="nav-number">2.2.</span> <span class="nav-text">破坏剥夺条件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-number">2.2.1.</span> <span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A0%B4%E5%9D%8F%E8%AF%B7%E6%B1%82%E5%92%8C%E4%BF%9D%E6%8C%81%E6%9D%A1%E4%BB%B6"><span class="nav-number">2.3.</span> <span class="nav-text">破坏请求和保持条件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9-2"><span class="nav-number">2.3.1.</span> <span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A0%B4%E5%9D%8F%E5%BE%AA%E7%8E%AF%E7%AD%89%E5%BE%85%E6%9D%A1%E4%BB%B6"><span class="nav-number">2.4.</span> <span class="nav-text">破坏循环等待条件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9-3"><span class="nav-number">2.4.1.</span> <span class="nav-text">缺点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AD%BB%E9%94%81%E9%81%BF%E5%85%8D"><span class="nav-number">3.</span> <span class="nav-text">死锁避免</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E5%BA%8F%E5%88%97-%E4%B8%8D%E5%AE%89%E5%85%A8%E7%8A%B6%E6%80%81-%E6%AD%BB%E9%94%81%E7%9A%84%E8%81%94%E7%B3%BB"><span class="nav-number">3.1.</span> <span class="nav-text">安全序列、不安全状态、死锁的联系</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E5%BA%8F%E5%88%97"><span class="nav-number">3.1.1.</span> <span class="nav-text">安全序列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E7%8A%B6%E6%80%81"><span class="nav-number">3.1.2.</span> <span class="nav-text">安全状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8D%E5%AE%89%E5%85%A8%E7%8A%B6%E6%80%81"><span class="nav-number">3.1.3.</span> <span class="nav-text">不安全状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E7%8A%B6%E6%80%81%E4%B8%8E%E6%AD%BB%E9%94%81%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-number">3.1.4.</span> <span class="nav-text">安全状态与死锁的关系</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95"><span class="nav-number">4.</span> <span class="nav-text">银行家算法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%97%E6%B3%95%E6%AD%A5%E9%AA%A4"><span class="nav-number">4.1.</span> <span class="nav-text">算法步骤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%8B%E9%A2%98"><span class="nav-number">4.2.</span> <span class="nav-text">例题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E6%A3%80%E6%B5%8B%E5%92%8C%E8%A7%A3%E9%99%A4"><span class="nav-number">5.</span> <span class="nav-text">死锁的检测和解除</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B5%84%E6%BA%90%E5%88%86%E9%85%8D%E5%9B%BE"><span class="nav-number">5.1.</span> <span class="nav-text">资源分配图</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%93%E6%9E%84"><span class="nav-number">5.1.1.</span> <span class="nav-text">结构</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%A4%E7%A7%8D%E7%BB%93%E7%82%B9"><span class="nav-number">5.1.1.1.</span> <span class="nav-text">两种结点</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%A4%E7%A7%8D%E8%BE%B9"><span class="nav-number">5.1.2.</span> <span class="nav-text">两种边</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%8E%AF%E8%B7%AF"><span class="nav-number">5.1.3.</span> <span class="nav-text">环路</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%BB%E9%94%81%E5%AE%9A%E7%90%86"><span class="nav-number">5.2.</span> <span class="nav-text">死锁定理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9A%8F%E4%BE%BF%E6%89%92%E6%8B%89%E7%9A%84%E4%B8%80%E9%81%93%E9%A2%98%E6%9D%A5%E5%88%86%E6%9E%90%E4%B8%80%E4%B8%8B"><span class="nav-number">5.2.1.</span> <span class="nav-text">随便扒拉的一道题来分析一下</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E8%A7%A3%E9%99%A4"><span class="nav-number">6.</span> <span class="nav-text">死锁的解除</span></a></li></ol></div></div></aside><div class="image-viewer-container"><img src=""></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fas fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fas fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/header-shrink.js"></script><script src="/js/back2top.js"></script><script src="/js/dark-light-toggle.js"></script><script src="/js/local-search.js"></script><script src="/js/code-copy.js"></script><script src="/js/lazyload.js"></script><div class="post-scripts pjax"><script src="/js/left-side-toggle.js"></script><script src="/js/libs/anime.min.js"></script><script src="/js/toc.js"></script></div><script src="/js/libs/pjax.min.js"></script><script>window.addEventListener("DOMContentLoaded",()=>{window.pjax=new Pjax({selectors:["head title",".page-container",".pjax"],history:!0,debug:!1,cacheBust:!1,timeout:0,analytics:!1,currentUrlFullReload:!1,scrollRestoration:!1}),document.addEventListener("pjax:send",()=>{KEEP.utils.pjaxProgressBarStart()}),document.addEventListener("pjax:complete",()=>{KEEP.utils.pjaxProgressBarEnd(),window.pjax.executeScripts(document.querySelectorAll("script[data-pjax], .pjax script")),KEEP.refresh()})})</script><script src="/js/libs/tailwind.min.js"></script><script id="__bs_script__">!function(){try{var e=document.createElement("script");e.async=!0,e.src="http://HOST:3000/browser-sync/browser-sync-client.js?v=2.29.3".replace("HOST",location.hostname),document.body?document.body.appendChild(e):document.head&&document.head.appendChild(e)}catch(e){console.error("Browsersync: could not append script tag",e)}}()</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>